{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _customInput = _interopRequireDefault(require(\"../../components/customInput\"));\nvar _customButton = _interopRequireDefault(require(\"../../components/customButton\"));\nvar _reactHookForm = require(\"react-hook-form\");\nvar _awsAmplify = require(\"aws-amplify\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"/Users/haoranwu/Desktop/login/loginProject/src/screens/ConfirmEmailScreen/ConfirmEmailScreen.tsx\";\nfunction ConfirmEmailScreen(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useForm = (0, _reactHookForm.useForm)({\n      defaultValues: {\n        username: route.params\n      }\n    }),\n    control = _useForm.control,\n    handleSubmit = _useForm.handleSubmit,\n    errors = _useForm.formState.errors;\n  var ConfirmPress = function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* (data) {\n      try {\n        yield _awsAmplify.Auth.confirmSignUp(data.username, data.code);\n        navigation.navigate('SignIn');\n      } catch (e) {\n        _reactNative.Alert.alert(e.message);\n      }\n    });\n    return function ConfirmPress(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var BackToSignInPress = function BackToSignInPress() {\n    console.log('BackToSignInPress');\n    navigation.navigate('SignIn');\n  };\n  var ResendPress = function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* (data) {\n      try {\n        yield _awsAmplify.Auth.resendSignUp(data.username);\n        _reactNative.Alert.alert('Success', 'Code was resent to your email');\n      } catch (e) {\n        _reactNative.Alert.alert(e.message);\n      }\n      console.log('Resend');\n    });\n    return function ResendPress(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return (0, _jsxRuntime.jsx)(_reactNative.ScrollView, {\n    showsVerticalScrollIndicator: false,\n    children: (0, _jsxRuntime.jsxs)(_reactNative.View, {\n      style: styles.root,\n      children: [(0, _jsxRuntime.jsx)(_reactNative.Text, {\n        style: styles.title,\n        children: \"Confirm your email\"\n      }), (0, _jsxRuntime.jsx)(_customInput.default, {\n        name: \"username\",\n        control: control,\n        placeholder: \"Enter your username\",\n        secureTextEntry: false,\n        rules: {}\n      }), (0, _jsxRuntime.jsx)(_customInput.default, {\n        name: \"code\",\n        control: control,\n        placeholder: \"Enter your confirmation code\",\n        secureTextEntry: true,\n        rules: {}\n      }), (0, _jsxRuntime.jsx)(_customButton.default, {\n        onPress: handleSubmit(ConfirmPress),\n        text: \"Confirm\",\n        type: \"Blue\",\n        bgColor: \"\",\n        fgColor: \"\"\n      }), (0, _jsxRuntime.jsx)(_customButton.default, {\n        onPress: handleSubmit(ResendPress),\n        text: \"Resend code\",\n        type: \"White\",\n        bgColor: \"\",\n        fgColor: \"\"\n      }), (0, _jsxRuntime.jsx)(_customButton.default, {\n        onPress: BackToSignInPress,\n        text: \"Back to Sign in\",\n        type: \"Gray\",\n        bgColor: \"\",\n        fgColor: \"\"\n      })]\n    })\n  });\n}\nvar styles = _reactNative.StyleSheet.create({\n  root: {\n    alignItems: 'center',\n    padding: 40\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#051c60',\n    margin: 30\n  },\n  text: {\n    color: 'gray',\n    marginVertical: 10\n  },\n  link: {\n    color: '#fdb075'\n  }\n});\nvar _default = ConfirmEmailScreen;\nexports.default = _default;","map":{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_customInput","_customButton","_reactHookForm","_awsAmplify","_jsxRuntime","_jsxFileName","ConfirmEmailScreen","_ref","navigation","route","_useForm","useForm","defaultValues","username","params","control","handleSubmit","errors","formState","ConfirmPress","_ref2","_asyncToGenerator2","default","data","Auth","confirmSignUp","code","navigate","e","Alert","alert","message","_x","apply","arguments","BackToSignInPress","console","log","ResendPress","_ref3","resendSignUp","_x2","jsx","ScrollView","showsVerticalScrollIndicator","children","jsxs","View","style","styles","root","Text","title","name","placeholder","secureTextEntry","rules","onPress","text","type","bgColor","fgColor","StyleSheet","create","alignItems","padding","fontSize","fontWeight","color","margin","marginVertical","link","_default","exports"],"sources":["/Users/haoranwu/Desktop/login/loginProject/src/screens/ConfirmEmailScreen/ConfirmEmailScreen.tsx"],"sourcesContent":["import React, {useState} from 'react';\nimport {View, StyleSheet, Text, ScrollView, Alert} from 'react-native';\nimport CustomInput from '../../components/customInput';\nimport CustomButton from '../../components/customButton';\nimport {NativeStackNavigationProp} from '@react-navigation/native-stack';\nimport {RootStackParamList} from '../../navigation/paramList';\nimport {useNavigation} from '@react-navigation/native';\nimport {useForm} from 'react-hook-form';\nimport {Auth} from 'aws-amplify';\ntype ScreenProp = NativeStackNavigationProp<RootStackParamList, 'ConfrimEmail'>;\n\nfunction ConfirmEmailScreen({navigation, route}: any): JSX.Element {\n  const {\n    control,\n    handleSubmit,\n    formState: {errors},\n  } = useForm({defaultValues: {username: route.params}});\n  //const navigation = useNavigation<ScreenProp>();\n  const ConfirmPress = async (data: any) => {\n    try {\n      await Auth.confirmSignUp(data.username, data.code);\n      navigation.navigate('SignIn');\n    } catch (e: any) {\n      Alert.alert(e.message);\n    }\n  };\n  const BackToSignInPress = () => {\n    console.log('BackToSignInPress');\n    navigation.navigate('SignIn');\n  };\n  const ResendPress = async (data: any) => {\n    try {\n      await Auth.resendSignUp(data.username);\n      Alert.alert('Success', 'Code was resent to your email');\n    } catch (e: any) {\n      Alert.alert(e.message);\n    }\n    console.log('Resend');\n  };\n\n  return (\n    <ScrollView showsVerticalScrollIndicator={false}>\n      <View style={styles.root}>\n        <Text style={styles.title}>Confirm your email</Text>\n        <CustomInput\n          name=\"username\"\n          control={control}\n          placeholder=\"Enter your username\"\n          secureTextEntry={false}\n          rules={{}}\n        />\n        <CustomInput\n          name=\"code\"\n          control={control}\n          placeholder=\"Enter your confirmation code\"\n          secureTextEntry\n          rules={{}}\n        />\n        <CustomButton\n          onPress={handleSubmit(ConfirmPress)}\n          text=\"Confirm\"\n          type=\"Blue\"\n          bgColor=\"\"\n          fgColor=\"\"\n        />\n        <CustomButton\n          onPress={handleSubmit(ResendPress)}\n          text=\"Resend code\"\n          type=\"White\"\n          bgColor=\"\"\n          fgColor=\"\"\n        />\n        <CustomButton\n          onPress={BackToSignInPress}\n          text=\"Back to Sign in\"\n          type=\"Gray\"\n          bgColor=\"\"\n          fgColor=\"\"\n        />\n      </View>\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    alignItems: 'center',\n    padding: 40,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#051c60',\n    margin: 30,\n  },\n  text: {color: 'gray', marginVertical: 10},\n  link: {color: '#fdb075'},\n});\n\nexport default ConfirmEmailScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}